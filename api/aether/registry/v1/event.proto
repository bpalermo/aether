syntax = "proto3";

package aether.registry.v1;

option go_package = "github.com/bpalermo/aether/api/aether/registry/v1;registryv1";

message Event {

  enum Operation {
    OPERATION_UNSPECIFIED = 0;
    CREATED = 1;
    UPDATED = 2;
    DELETED = 3;
  }

  Operation operation = 1;

  message KubernetesPod {
    string namespace = 1;
    string name = 2;
    string service_name = 3;
    string ip = 4;
  }

  message NetworkNamespace {
    string path = 1;
    KubernetesPod pod = 2;
  }

  oneof resource {
    KubernetesPod pod = 2;
    NetworkNamespace network_ns = 3;
  }
}