syntax = "proto3";

package aether.registry.v1;

import "api/aether/cni/v1/cni.proto";

option go_package = "github.com/bpalermo/aether/api/aether/registry/v1;registryv1";

message RegistryPod {

  aether.cni.v1.CNIPod cni_pod = 1;

  string service_name = 2;

  string cluster_name = 3;

  message Locality {
    string region = 1;
    string zone = 2;
  }

  Locality pod_locality = 4;

  message ServicePort {
    oneof port_specifier {
      uint32 port_number = 1;
    }
  }

  ServicePort service_port = 5;

  enum PortProtocol {
    PORT_PROTOCOL_UNSPECIFIED = 0;
    HTTP = 1;
  }

  PortProtocol port_protocol = 6;

  uint32 endpoint_weight = 7;

  map<string, string> additional_metadata = 8;

}
